webpackJsonp([4,15],{2:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateOrders=t.placeOrders=t.mobileCode=t.putGoodInfo=t.getGoodInfo=t.putClearanceInfo=t.getClearanceInfo=t.getClearanceList=t.addCompany=t.putCompany=t.putSupplier=t.getSupplierInfo=t.postSupplierListByPage=t.getRoleInfo=t.putRole=t.addRole=t.getAdminInfo=t.putAdministrator=t.addAdministrator=t.getRolePermissionsList=t.getRoleList=t.getRoleListByPage=t.getAdminList=t.deleRole=t.deleAdmin=t.getUserInfo=t.getUserList=t.companyNameCheckIsRg=t.singout=t.changePassword=t.getMenuList=t.accountLogin=t.putUser=t.addUser=void 0;var a=n(4),s=r(a);t.addUser=function(e){return(0,s.default)("POST","/admin/userRegister",{companyNameCn:e.companyNameCn,user_name:e.user_name,mobile:e.mobile,password:e.password,email:e.email,status:e.passOrNoPass})},t.putUser=function(e){return(0,s.default)("PUT","/admin/changeUser",{user_id:e.user_id,companyNameCn:e.companyNameCn,user_name:e.user_name,mobile:e.mobile,password:e.password,email:e.email,status:e.passOrNoPass})},t.accountLogin=function(e,t){return(0,s.default)("POST","/admin/login",{user_name:e,password:t})},t.getMenuList=function(){return(0,s.default)("GET","/menu/menu")},t.changePassword=function(e,t){return(0,s.default)("PUT","/admin/changePassword",{oldPas:e,newPas:t})},t.singout=function(){return(0,s.default)("GET","/admin/singout")},t.companyNameCheckIsRg=function(e){return(0,s.default)("POST","/admin/companyNameCheck",{companyNameCn:e})},t.getUserList=function(e,t,n){return(0,s.default)("POST","/admin/listByPage",{pageNo:e,pageSize:t,query:n})},t.getUserInfo=function(e){return(0,s.default)("GET","/admin/getUserInfo?user_id="+e)},t.deleAdmin=function(e){return(0,s.default)("DELETE","/admin/delAdmin?admin_id="+e)},t.deleRole=function(e){return(0,s.default)("DELETE","/admin/delRole?role_id="+e)},t.getAdminList=function(e,t,n){return(0,s.default)("POST","/admin/getAllAdmin",{pageNo:e,pageSize:t,query:n})},t.getRoleListByPage=function(e,t,n){return(0,s.default)("POST","/admin/roleListByPage",{pageNo:e,pageSize:t,query:n})},t.getRoleList=function(e,t,n){return(0,s.default)("GET","/admin/getRoleList")},t.getRolePermissionsList=function(e,t,n){return(0,s.default)("GET","/admin/getRolePermissionsList")},t.addAdministrator=function(e){return(0,s.default)("POST","/admin/addAdmin",{admin_name:e.admin_name,password:e.password,role_id:e.role_id,realname:e.realname})},t.putAdministrator=function(e){return(0,s.default)("PUT","/admin/changeAdmin",{admin_id:e.admin_id,admin_name:e.admin_name,password:e.password,role_id:e.role_id,realname:e.realname})},t.getAdminInfo=function(e){return(0,s.default)("GET","/admin/getAdminInfo?admin_id="+e)},t.addRole=function(e,t){return(0,s.default)("POST","/admin/addRole",{role_name:e,operationIds:t})},t.putRole=function(e,t,n){return(0,s.default)("PUT","/admin/changeRole",{role_id:e,role_name:t,operationIds:n})},t.getRoleInfo=function(e){return(0,s.default)("GET","/admin/getRoleInfo?role_id="+e)},t.postSupplierListByPage=function(e,t,n){return(0,s.default)("POST","/supplier/listByPage",{pageNo:e,pageSize:t,query:n})},t.getSupplierInfo=function(e){return(0,s.default)("GET","/supplier/getSupplierInfo?company_id="+e)},t.putSupplier=function(e,t){return(0,s.default)("PUT","/supplier/changeSupplier",{company_id:e,query:t})},t.putCompany=function(e,t){return(0,s.default)("PUT","/supplier/changeCompany",{company_id:e,query:t})},t.addCompany=function(e,t){return(0,s.default)("POST","/supplier/createCompany",{company_name_cn:e.company_name_cn,user_id:e.user_id,registered_capital:e.registered_capital,company_phone:e.company_phone,detail_address:e.detail_address,address:e.address,threeToOne:e.threeToOne,license:t})},t.getClearanceList=function(e,t,n){return(0,s.default)("POST","/clearance/listByPage",{pageNo:e,pageSize:t,query:n})},t.getClearanceInfo=function(e){return(0,s.default)("GET","/clearance/getClearanceInfo?export_form_id="+e)},t.putClearanceInfo=function(e,t){return(0,s.default)("PUT","/clearance/changeClearance",{export_form_id:e,query:t})},t.getGoodInfo=function(e){return(0,s.default)("GET","/clearance/getGoodInfo?export_goods_id="+e)},t.putGoodInfo=function(e,t){return(0,s.default)("PUT","/clearance/changeGood",{export_goods_id:e,query:t})},t.mobileCode=function(e){return(0,s.default)("POST","/v4/mobile/verify_code/send",{mobile:e,scene:"login",type:"sms"})},t.placeOrders=function(e,t,n,r,a,i,o){return(0,s.default)("POST","/v1/users/"+e+"/carts/"+t+"/orders",{address_id:n,come_from:"mobile_web",deliver_time:"",description:r,entities:a,geohash:i,paymethod_id:1,sig:o})},t.validateOrders=function(e){var t=e.user_id,n=e.cart_id,r=e.address_id,a=e.description,i=e.entities,o=e.geohash,u=e.sig,l=e.validation_code,d=e.validation_token;return(0,s.default)("POST","/v1/users/"+t+"/carts/"+n+"/orders",{address_id:r,come_from:"mobile_web",deliver_time:"",description:a,entities:i,geohash:o,paymethod_id:1,sig:u,validation_code:l,validation_token:d})}},3:function(e,t,n){e.exports={default:n(6),__esModule:!0}},4:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),s=r(a),i=n(15),o=r(i),u=n(23),l=r(u),d=n(3),c=r(d),p=n(5),m=r(p),f=n(24),g=r(f),y=n(14);t.default=function(){var e=(0,g.default)(s.default.mark(function e(){var t,n,r,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fetch";return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=i.toUpperCase(),u=y.baseUrl+u,"GET"==i&&(t="",(0,m.default)(d).forEach(function(e){t+=e+"="+d[e]+"&"}),""!==t&&(t=t.substr(0,t.lastIndexOf("&")),u=u+"?"+t)),!window.fetch||"fetch"!=p){e.next=21;break}return n={credentials:"include",method:i,headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",cache:"force-cache"},"POST"!=i&&"PUT"!=i&&"DELETE"!=i||Object.defineProperty(n,"body",{value:(0,c.default)(d)}),e.prev=6,e.next=9,fetch(u,n);case 9:return r=e.sent,e.next=12,r.json();case 12:a=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(6),new Error(e.t0);case 18:return e.abrupt("return",a);case 21:return e.abrupt("return",new l.default(function(e,t){var n=void 0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var r="";"POST"!=i&&"PUT"!=i&&"DELETE"!=i||(r=(0,c.default)(d)),n.open(i,u,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(r),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var r=n.response;"object"!==("undefined"==typeof r?"undefined":(0,o.default)(r))&&(r=JSON.parse(r)),e(r)}else t(n)}}));case 22:case"end":return e.stop()}},e,void 0,[[6,15]])}));return function(){return e.apply(this,arguments)}}()},5:function(e,t,n){e.exports={default:n(7),__esModule:!0}},6:function(e,t,n){var r=n(1),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},7:function(e,t,n){n(9),e.exports=n(1).Object.keys},8:function(e,t,n){var r=n(10),a=n(1),s=n(13);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},9:function(e,t,n){var r=n(22),a=n(16);n(8)("keys",function(){return function(e){return a(r(e))}})},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmail=t.companyNameCheck=t.strongPsw=t.isTelphone=t.isChinese=t.isChineseNumber=void 0;var r=n(2);t.isChineseNumber=function(e,t,n,r){/^[0-9\u4E00-\u9FA5]+$/.test(t)?n():n(new Error(r))},t.isChinese=function(e,t,n,r){/^[\u0391-\uFFE5]+$/.test(t)?n():n(new Error(r))},t.isTelphone=function(e,t,n,r){11==t.length&&/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(14[0-9]{1}))+\d{8})$/.test(t)?n():n(new Error(r))},t.strongPsw=function(e,t,n,r){function a(e){function t(e){return e>=48&&e<=57?1:e>=65&&e<=90?2:e>=97&&e<=122||e>=65&&e<=90?4:8}function n(e){for(var t=0,n=0;n<4;n++)1&e&&t++,e>>>=1;return t}for(var r=0,a=0;a<e.length;a++)r|=t(e.charCodeAt(a));return n(r)}1==a(t)?n(new Error(r)):n()},t.companyNameCheck=function(e,t,n,a){(0,r.companyNameCheckIsRg)(t).then(function(e){2e6==e.statusCode&&("0"==e.data?n(new Error(a)):n())})},t.isEmail=function(e,t,n,r){/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(t)?n():n(new Error(r))}},142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(21),n(2)),a=n(52);t.default={data:function(){return{query:{companyNameCn:"",user_name:"",mobile:"",password:"",email:"",passOrNoPass:""},ruleInline:{companyNameCn:[{required:!0,message:"请输入公司名称",trigger:"blur"},{type:"string",min:6,message:"公司名称度不能小于6位",trigger:"blur"},{type:"string",max:50,message:"公司名称长度不能大于50位",trigger:"blur"},{validator:function(e,t,n){(0,a.isChineseNumber)(e,t,n,"公司名称只能输入中文和数字")},trigger:"blur"},{validator:function(e,t,n){(0,a.companyNameCheck)(e,t,n,"公司名称已经被注册")},trigger:"blur"}],user_name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:4,message:"请输入2-4位中文",trigger:"blur"},{validator:function(e,t,n){(0,a.isChinese)(e,t,n,"姓名只能输入中文")},trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,n){(0,a.isTelphone)(e,t,n,"请输入13/14/15/17/18开头的手机号")},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"请输入6-16位密码",trigger:"blur"},{validator:function(e,t,n){(0,a.strongPsw)(e,t,n,"密码必须包含字母、大小写、数字、特殊字符其中两种规则")},trigger:"blur"}],email:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(e,t,n){(0,a.isEmail)(e,t,n,"邮箱格式填写有误，请重新输入")},trigger:"blur"}]}}},mounted:function(){this.$route.query&&this.$route.query["user_id "]&&(this.getUserInformation(),this.query.user_id=this.$route.query["user_id "])},methods:{back:function(){this.$router.back()},getUserInformation:function(){var e=this;(0,r.getUserInfo)(Number(this.$route.query["user_id "])).then(function(t){2e6==t.statusCode&&(e.query.companyNameCn=t.data[0].companyNameCn,e.query.user_name=t.data[0].user_name,e.query.mobile=t.data[0].mobile,e.query.password=t.data[0].password,e.query.email=t.data[0].email,e.query.passOrNoPass=t.data[0].status)})},submit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.query.user_id?(0,r.putUser)(t.query).then(function(e){2e6==e.statusCode&&(t.dialogFormVisible=!1,t.$message({type:"success",message:"修改用户成功"}),t.$router.back())}):(0,r.addUser)(t.query).then(function(e){2e6==e.statusCode&&(t.dialogFormVisible=!1,t.$message({type:"success",message:"添加用户成功"}),t.$router.back())}))})}}}},198:function(e,t,n){t=e.exports=n(11)(),t.i(n(18),""),t.i(n(19),""),t.push([e.id,".addForm input{width:200px}","",{version:3,sources:["/./src/page/userList/userEdit.vue"],names:[],mappings:"AAGA,eACI,WAAY,CACf",file:"userEdit.vue",sourcesContent:["\n@import '../../style/reset.css';\n@import '../../style/style.css';\n.addForm input{\n    width:200px;\n}\n"],sourceRoot:"webpack://"}])},235:function(e,t,n){var r=n(198);"string"==typeof r&&(r=[[e.id,r,""]]);n(20)(r,{});r.locals&&(e.exports=r.locals)},276:function(e,t,n){n(235);var r=n(17)(n(142),n(283),null,null);e.exports=r.exports},283:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"WrapBox"},[n("el-form",{ref:"query",staticClass:"addForm",attrs:{model:e.query,rules:e.ruleInline,"label-width":"200px"}},[n("p",{staticClass:"grayHeader"},[n("i",{staticClass:"iconfont icon-home"}),n("span",{staticClass:"location"},[e._v("所在位置：")]),n("span",[e._v("用户管理")]),n("span",{staticClass:"gt"},[e._v(">")]),n("span",{staticClass:"now"},[e._v("新增用户")])]),e._v(" "),n("h1",[e._v("增加用户 ")]),n("a",{staticClass:"fl hexagon",on:{click:function(t){e.back()}}},[e._v("返回")]),e._v(" "),n("div",{staticClass:"newInfoBox"},[n("div",{staticClass:"newInfoBoxHeader disib h30 lh30 w97p"},[n("p",{staticClass:"newInfoBoxHeaderContent bold h30 lh30 f16 disib"},[e._v("用户信息")])]),e._v(" "),n("div",{staticClass:"w100p bgcee mt30 pt30 pb30"},[n("p",{staticClass:"mb30 por"},[n("el-form-item",{attrs:{label:"公司名称：",prop:"companyNameCn"}},[n("el-input",{attrs:{type:"text",size:"small",placeholder:"请输入公司名称"},model:{value:e.query.companyNameCn,callback:function(t){e.$set(e.query,"companyNameCn",t)},expression:"query.companyNameCn"}})],1)],1),e._v(" "),n("p",{staticClass:"mb30 por"},[n("el-form-item",{attrs:{label:"姓名：",prop:"user_name"}},[n("el-input",{attrs:{type:"text",size:"small",placeholder:"请输入姓名"},model:{value:e.query.user_name,callback:function(t){e.$set(e.query,"user_name",t)},expression:"query.user_name"}})],1)],1),e._v(" "),n("p",{staticClass:"mb30 por"},[n("el-form-item",{attrs:{label:"手机号码：",prop:"mobile"}},[n("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入手机号"},model:{value:e.query.mobile,callback:function(t){e.$set(e.query,"mobile",t)},expression:"query.mobile"}})],1)],1),e._v(" "),n("p",{staticClass:"mb30 por"},[n("el-form-item",{attrs:{label:"密码：",prop:"password"}},[n("el-input",{attrs:{type:"password",size:"small",placeholder:"输入6~16位密码"},model:{value:e.query.password,callback:function(t){e.$set(e.query,"password",t)},expression:"query.password"}})],1)],1),e._v(" "),n("p",{staticClass:"mb30"},[n("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[n("el-input",{attrs:{type:"email",size:"small",placeholder:"请输入邮箱"},model:{value:e.query.email,callback:function(t){e.$set(e.query,"email",t)},expression:"query.email"}})],1)],1)])]),e._v(" "),n("div",{staticClass:"newInfoBox"},[n("div",{staticClass:"newInfoBoxHeader disib h30 lh30 w97p"},[n("p",{staticClass:"newInfoBoxHeaderContent bold h30 lh30 f16 disib"},[e._v("用户状态")])]),e._v(" "),n("div",{staticClass:"mt40 bgcee",staticStyle:{padding:"30px 0px 10px"}},[n("el-form-item",{attrs:{label:"",prop:"passOrNoPass"}},[n("el-radio-group",{model:{value:e.query.passOrNoPass,callback:function(t){e.$set(e.query,"passOrNoPass",t)},expression:"query.passOrNoPass"}},[n("el-radio",{staticClass:"radio",attrs:{label:"2"}},[e._v("通过")]),e._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"3"}},[e._v("驳回")])],1)],1)],1)]),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("query")}}},[e._v("确认")])],1)],1)],1)])},staticRenderFns:[]}}});